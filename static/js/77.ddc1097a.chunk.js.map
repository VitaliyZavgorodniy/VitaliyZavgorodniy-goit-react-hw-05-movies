{"version":3,"file":"static/js/77.ddc1097a.chunk.js","mappings":"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","sources":["components/MoviesGallery/MovieCard/MovieCard.jsx","components/MoviesGallery/MoviesGallery.jsx","components/UI/AccentButton.jsx","components/SearchForm/SearchFrom.jsx","pages/MoviePage/MoviePage.jsx","utils/filteredGenres.js","utils/mappedMoviesList.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { breakpoints } from 'constants/breakpoints';\n\nconst MovieCard = ({ title, posterPath, genres }) => (\n  <Wrapper>\n    <Thumb>\n      <Picture>\n        <source\n          srcSet={`https://themoviedb.org/t/p/w342${posterPath}`}\n          media=\"(min-width: 768px)\"\n        />\n        <source\n          srcSet={`https://themoviedb.org/t/p/w342${posterPath}`}\n          media=\"(min-width: 1024px)\"\n        />\n        <img\n          alt={title}\n          loading=\"lazy\"\n          src={`https://themoviedb.org/t/p/w342${posterPath}`}\n        />\n      </Picture>\n    </Thumb>\n\n    <Title>{title}</Title>\n    <Genres>{genres}</Genres>\n  </Wrapper>\n);\n\nconst Wrapper = styled.div`\n  width: 280px;\n  transform: scale(1);\n  transition: transform ${(p) => p.theme.transition};\n\n  @media ${breakpoints.tablet} {\n    width: 336px;\n  }\n\n  @media ${breakpoints.desktop} {\n    width: 305px;\n  }\n\n  &:hover {\n    cursor: pointer;\n    transform: scale(1.04);\n  }\n`;\n\nconst Thumb = styled.div`\n  /* height: 402px; */\n  margin-bottom: 10px;\n  border-radius: 5px;\n  overflow: hidden;\n  background-color: ${(p) => p.theme.skeletonFrom};\n\n  @media ${breakpoints.tablet} {\n    /* height: 405px; */\n  }\n\n  @media ${breakpoints.desktop} {\n    /* height: 449px; */\n  }\n`;\n\nconst Picture = styled.picture`\n  width: 100%;\n`;\n\nconst Title = styled.h3`\n  text-transform: uppercase;\n  font-size: 12px;\n  font-weight: 500;\n  line-height: 12px / 14px;\n  color: ${(p) => p.theme.mainColor};\n`;\n\nconst Genres = styled.p`\n  margin-top: 4px;\n  font-size: 12px;\n  line-height: 12px / 14px;\n  font-weight: 500;\n  color: ${(p) => p.theme.accentColor};\n`;\n\nMovieCard.propTypes = {\n  id: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  posterPath: PropTypes.string.isRequired,\n  genres: PropTypes.string,\n};\n\nexport default MovieCard;\n","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { breakpoints } from 'constants/breakpoints';\n\nimport MovieCard from './MovieCard';\n\nconst MoviesGallery = ({ list }) => {\n  const location = useLocation();\n\n  const renderGallery = () =>\n    list.map((item) => (\n      <Item key={item.id}>\n        <Link to={`/movies/${item.id}`} state={{ from: location }}>\n          <MovieCard {...item} />\n        </Link>\n      </Item>\n    ));\n\n  return <Wrapper>{list.length ? renderGallery() : null}</Wrapper>;\n};\n\nconst Wrapper = styled.ul`\n  display: flex;\n  flex-direction: column;\n  margin-left: -20px;\n\n  @media ${breakpoints.tablet} {\n    flex-direction: row;\n    align-items: flex-start;\n    flex-wrap: wrap;\n    margin-left: -32px;\n  }\n\n  @media ${breakpoints.desktop} {\n    margin-left: -16px;\n  }\n`;\n\nconst Item = styled.li`\n  margin-left: 20px;\n  margin-top: 20px;\n\n  @media ${breakpoints.tablet} {\n    flex-basis: calc((100% - (2 * 32px)) / 2);\n    margin-left: 32px;\n    margin-top: 32px;\n  }\n\n  @media ${breakpoints.desktop} {\n    flex-basis: calc((100% - (3 * 16px)) / 3);\n    margin-left: 16px;\n    margin-top: 32px;\n  }\n`;\n\nMoviesGallery.propTypes = {\n  list: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n      posterPath: PropTypes.string.isRequired,\n      genres: PropTypes.string,\n    })\n  ),\n};\n\nexport default MoviesGallery;\n","import PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst AccentButton = ({ title, onClick, type }) => (\n  <Button type={type} onClick={onClick}>\n    {title}\n  </Button>\n);\n\nconst Button = styled.button`\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${(p) => p.theme.altBG};\n  color: ${(p) => p.theme.mainColor};\n  font-family: ${(p) => p.theme.mainFF}, sans-serif;\n  transition: background-color ${(p) => p.theme.transition},\n    color ${(p) => p.theme.transition};\n\n  &:hover {\n    cursor: pointer;\n    color: ${(p) => p.theme.mainColor};\n    background-color: ${(p) => p.theme.accentColor};\n  }\n`;\nAccentButton.propTypes = {\n  title: PropTypes.string.isRequired,\n  onClick: PropTypes.func,\n  type: PropTypes.string,\n};\n\nexport default AccentButton;\n","import { useState } from 'react';\nimport styled from 'styled-components';\n\nimport AccentButton from 'components/UI/AccentButton';\n\nconst SearchForm = ({ onSearch }) => {\n  const [value, setValue] = useState('');\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n\n    const query = value.trim();\n    if (query) {\n      onSearch(value);\n      setValue('');\n    }\n  };\n\n  return (\n    <Form onSubmit={handleSearch}>\n      <Input\n        value={value}\n        placeholder=\"Search for movies\"\n        onChange={(e) => setValue(e.target.value)}\n      />\n      <AccentButton title=\"Find\" type=\"submit\" />\n    </Form>\n  );\n};\n\nconst Form = styled.form`\n  display: flex;\n  width: 100%;\n`;\n\nconst Input = styled.input`\n  width: 100%;\n  margin-right: 10px;\n  background-color: transparent;\n  border: none;\n  border-bottom: 2px solid ${(p) => p.theme.accentColor};\n  color: ${(p) => p.theme.mainColor};\n`;\n\nexport default SearchForm;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport { fetchSearch } from 'services/fetchMoviesData';\n\nimport SkeletonHomePage from 'components/Skeletons/SkeletonHomePage';\n\nimport MoviesGallery from 'components/MoviesGallery';\nimport Container from 'components/UI/Container';\nimport Section from 'components/UI/Section';\nimport SearchForm from 'components/SearchForm';\n\nimport { mappedMovies } from 'utils/mappedMoviesList';\n\nconst PARAM_QUERY = 'query';\n\nconst MoviePage = ({ genresList }) => {\n  const [loading, setLoading] = useState(false);\n  const [moviesList, setMoviesList] = useState([]);\n  const [queryParam, setQueryParam] = useSearchParams({});\n\n  useEffect(() => {\n    const query = queryParam.get(PARAM_QUERY);\n\n    if (query) handleSearch(query);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const handleSearch = (value) => {\n    setLoading(true);\n    setQueryParam({ [PARAM_QUERY]: value });\n\n    fetchSearch('en', 1, value)\n      .then((res) => {\n        setLoading(false);\n        setMoviesList(mappedMovies(genresList, res.list));\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.error(err);\n      });\n  };\n\n  return (\n    <Section>\n      <Container>\n        <SearchForm onSearch={handleSearch} />\n      </Container>\n\n      {loading ? (\n        <SkeletonHomePage />\n      ) : (\n        <Container>\n          <MoviesGallery list={moviesList} />\n        </Container>\n      )}\n    </Section>\n  );\n};\n\nMoviePage.propTypes = {\n  genresList: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      name: PropTypes.string.isRequired,\n    })\n  ),\n};\n\nexport default MoviePage;\n","export const filteredGenres = (genresList, IDs) => {\n  if (genresList.length && IDs) {\n    const str = IDs.map((ID) => genresList.find((genre) => genre.id === ID))\n      .map((item) => item?.name)\n      .join(', ');\n\n    if (str) return str;\n  }\n\n  return '';\n};\n","import { filteredGenres } from 'utils/filteredGenres';\n\nexport const mappedMovies = (genresList, list) =>\n  list.map((item) => ({\n    id: item.id,\n    title: item.title,\n    posterPath: item.poster_path,\n    genres: filteredGenres(genresList, item.genre_ids),\n  }));\n"],"names":["Wrapper","styled","p","theme","transition","breakpoints","Thumb","skeletonFrom","Picture","Title","mainColor","Genres","accentColor","title","posterPath","genres","srcSet","media","alt","loading","src","Item","list","location","useLocation","length","map","item","to","id","state","from","Button","altBG","mainFF","onClick","type","Form","Input","onSearch","useState","value","setValue","onSubmit","e","preventDefault","trim","placeholder","onChange","target","AccentButton","PARAM_QUERY","genresList","setLoading","moviesList","setMoviesList","useSearchParams","queryParam","setQueryParam","useEffect","query","get","handleSearch","fetchSearch","then","res","mappedMovies","catch","err","console","error","Section","Container","SkeletonHomePage","MoviesGallery","filteredGenres","IDs","str","ID","find","genre","name","join","poster_path","genre_ids"],"sourceRoot":""}